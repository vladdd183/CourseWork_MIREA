// ============================================================================
// üìÑ –¢–ò–¢–£–õ–¨–ù–´–ô –õ–ò–°–¢ –ú–ò–†–≠–ê
// ============================================================================
//
// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–∏—Ç—É–ª—å–Ω—ã–π –ª–∏—Å—Ç –∫—É—Ä—Å–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –ú–ò–†–≠–ê.
// –í—Å–µ –¥–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ meta.typ ‚Äî –∑–¥–µ—Å—å –Ω–∏—á–µ–≥–æ –º–µ–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.
//
// –ù–ï –†–ï–î–ê–ö–¢–ò–†–£–ô–¢–ï —ç—Ç–æ—Ç —Ñ–∞–π–ª –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫—É—Ä—Å–æ–≤–æ–π.
// ============================================================================

// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–∏—Ç—É–ª—å–Ω—ã–π –ª–∏—Å—Ç
//
// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ meta.typ:
//   - university, institute, department
//   - doc-type, discipline, title, variant
//   - student (name, group), supervisor (name, title)
//   - city, year
#let make-title-page(
  university: "",
  institute: "",
  department: "",
  doc-type: "coursework",
  discipline: "",
  title: "",
  variant: none,
  student: (:),
  supervisor: (:),
  city: "",
  year: "",
) = {
  // –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
  let doc-type-name = if doc-type == "coursework" {
    "–ö–£–†–°–û–í–ê–Ø –†–ê–ë–û–¢–ê"
  } else if doc-type == "practice-report" {
    "–û–¢–ß–Å–¢ –ü–û –ü–†–ê–ö–¢–ò–ö–ï"
  } else if doc-type == "lab-report" {
    "–û–¢–ß–Å–¢ –ü–û –õ–ê–ë–û–†–ê–¢–û–†–ù–û–ô –†–ê–ë–û–¢–ï"
  } else {
    upper(doc-type)
  }

  set page(numbering: none)
  set text(size: 14pt)
  set par(leading: 1em)

  // --- –®–∞–ø–∫–∞: –í–£–ó, –∏–Ω—Å—Ç–∏—Ç—É—Ç, –∫–∞—Ñ–µ–¥—Ä–∞ ---
  align(center)[
    –ú–ò–ù–ò–°–¢–ï–†–°–¢–í–û –ù–ê–£–ö–ò –ò –í–´–°–®–ï–ì–û –û–ë–†–ê–ó–û–í–ê–ù–ò–Ø \
    –†–û–°–°–ò–ô–°–ö–û–ô –§–ï–î–ï–†–ê–¶–ò–ò
    #v(4pt)
    –§–µ–¥–µ—Ä–∞–ª—å–Ω–æ–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–µ –±—é–¥–∂–µ—Ç–Ω–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏–µ \
    –≤—ã—Å—à–µ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
    #v(4pt)
    *¬´#university¬ª*
    #v(4pt)
    #institute \
    #department
  ]

  v(1fr)

  // --- –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ ---
  align(center)[
    *#doc-type-name*
    #v(8pt)
    –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ: ¬´#discipline¬ª
    #v(8pt)
    –¢–µ–º–∞: ¬´#title¬ª
    #if variant != none [
      #v(4pt)
      –í–∞—Ä–∏–∞–Ω—Ç: #variant
    ]
  ]

  v(1fr)

  // --- –°—Ç—É–¥–µ–Ω—Ç –∏ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å ---
  align(right)[
    #pad(right: 1cm)[
      –í—ã–ø–æ–ª–Ω–∏–ª: —Å—Ç—É–¥–µ–Ω—Ç –≥—Ä—É–ø–ø—ã #student.at("group", default: "???") \
      #student.at("name", default: "???")
      #v(12pt)
      –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å: #supervisor.at("title", default: "") \
      #supervisor.at("name", default: "???")
    ]
  ]

  v(1fr)

  // --- –ì–æ—Ä–æ–¥ –∏ –≥–æ–¥ ---
  align(center)[
    #city \
    #year
  ]

  pagebreak()
}
